# ì…ì‹¤ ì²´í¬ í•´ì£¼ì„¸ìš” !! ğŸ’Œ

# TypeScriptë¡œ ë¦¬ì•¡íŠ¸ ì•± ë§Œë“¤ê¸° ì‹¤ìŠµ ì˜ˆì œ
```tsx
import { useState } from 'react'
import './App.css'

function App() {
  const [ name, setName ] = useState('');

  const handleChange = (event : React.ChangeEvent<HTMLInputElement>) => {
    setName(event.target.value);
  }

  const handleSubmit = (event : React.FormEvent<HTMLFormElement>) => {
    event.preventDefault();
    alert(`Hello ${name} â­`);
  }


  return (
    <>
      <form onSubmit={handleSubmit}>
        <input type="text" value={name} onChange={handleChange}/>
        <input type="submit" value='ì œì¶œ'/>
      </form>
    </>
  )
}

export default App
```

# React RESTful API êµ¬í˜„
ë¦¬ì•¡íŠ¸ë¥¼ ì´ìš©í•œ ë„¤íŠ¸ì›Œí‚¹ ì‹¤ìŠµì„ í•  ì˜ˆì •ì…ë‹ˆë‹¤. cardatabaseë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‹¤ì–‘í•œ react ì ìš© ê¸°ìˆ ë“¤ì„ jsx / tsxë¡œ êµ¬í˜„í•  ê²ƒì´ê³ , ì´ë¥¼ ìœ„í•´ì„œ íŠ¹íˆ ë„¤íŠ¸ì›Œí‚¹ íŒŒíŠ¸ì— fetch ë° axiosë¥¼ ì‹¤ìŠµí•©ë‹ˆë‹¤. ì´ëŠ” ë¹„ë™ê¸° ì½”ë“œë¥¼ ë” ê¹”ë”í•˜ê³  ê°€ë…ì„±ìˆê²Œ ë§Œë“¤ ìˆ˜ ìˆëŠ” Promise ê°œë…ì— ëŒ€í•´ì„œ ì‚¬ì „ í•™ìŠµì´ ë˜ì–´ìˆì–´ì•¼ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.

Promise ì—­ì‹œë„ jsì— ë”¸ë ¤ìˆëŠ” ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ì˜€ì§€ë§Œ ê·¸ë•ŒëŠ” ì„¤ëª…í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

react-queryë¥¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ ì‹¤ì œë¡œ ì‘ë™ì´ ì–´ë–¤ì‹ìœ¼ë¡œ ì´ë£¨ì–´ì§€ëŠ”ì§€ì— ëŒ€í•œ ì„¤ëª…ë„ í•  ì˜ˆì •ì…ë‹ˆë‹¤.

## ts í”„ë¡œì íŠ¸ ìƒì„±
1. weatherapp - react - jsx í˜•íƒœë¡œ ìƒì„±í•´ì£¼ì„¸ìš”.
2. App.jsxë¥¼ ì´ˆê¸°í™”í•´ì£¼ì„¸ìš”.
3. npm run devë¥¼ í†µí•´ì„œ ë¹ˆ ë¸Œë¼ìš°ì € í™”ë©´ì„ ì¶œë ¥í•˜ì„¸ìš”.

ì´ìƒì„ ì´ìš©í•´ ê°„ë‹¨í•œ RESTful API êµ¬í˜„ì„ í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## Promise
- ë¹„ë™ê¸° ì—°ì‚°ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ, ì „í†µì ì¸ ë°©ë²•ì€ ì—°ì‚°ì˜ ì„±ê³µ ë˜ëŠ” ì‹¤íŒ¨ì— ëŒ€í•œ callback functionì„ ì‘ì„±í•´ë‘ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ GET ìš”ì²­ì„ í–ˆë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ, ì´ì— ì„±ê³µí–ˆë‹¤ë©´ sucess() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³ , ì‹¤íŒ¨í–ˆì„ ë•ŒëŠ” failure() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì²˜ëŸ¼ìš”. ì´í•˜ëŠ” ì´ë¥¼ ì¶”ìƒì ìœ¼ë¡œ ì‘ì„±í•œ ì˜ˆì‹œì…ë‹ˆë‹¤.
```js
function doAsyncCall(success, failure) {
  // ì–´ë–¤ API í˜¸ì¶œ

  if(SUCCEED) {
    success(resp);
  } else {
    failure(err);
  }
}

function success(response) {
    // ì‘ë‹µì„ ê°€ì§€ê³  ì‘ì—… ìˆ˜í–‰
  }

function  failure(error) {
    // ì˜¤ë¥˜ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë¡œì§
  }
```
ì´ìƒì€ ì˜ˆì „ì— ì´ëŸ° êµ¬ì¡°ë¡œ ì‘ì„±í–ˆì—ˆë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. í˜„ì¬ì˜ PromiseëŠ” JSì—ì„œ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì˜ ê¸°ë³¸ ìš”ì†Œê¸° ë•Œë¬¸ì— Promiseë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì½”ë”©ì„ í•˜ê²Œ ë©ë‹ˆë‹¤.
ê·¸ëŸ¬ë©´ Promiseê°€ ë­ëƒ? ê°€ ë¬¸ì œê°€ ë©ë‹ˆë‹¤.

Promiseë€? -> ë¹„ë™ê¸° ì—°ì‚°ì˜ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ëŠ” JS ê°ì²´.

ì´ë¥¼ ì´ìš©í•˜ë©´ ë¹„ë™ê¸° í˜¸ì¶œì„ ì‹¤í–‰í•  ë•Œ ì½”ë“œê°€ ì¢€ ë‹¨ìˆœí™”ë©ë‹ˆë‹¤. ì–˜ê°€ ì—†ë˜ ì‹œì ˆì—ëŠ” ì½”ë“œë¥¼ ì½ê³  ìœ ì§€ ê´€ë¦¬í•˜ëŠ” ê²Œ ì—„ì²­ ê³¨ì¹˜ì•„íŒ ì—ˆìŠµë‹ˆë‹¤. ì—¬ëŸ¬ ê°œì˜ ì¤‘ì²©ëœ callback functionë“¤ì´ ìˆì–´ì•¼ë§Œ í–ˆê±°ë“ ìš”.

ìš”ì²­ì„ ì „ì†¡í•˜ëŠ” ë° ì´ìš©í•˜ëŠ” API ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í”„ë¡œë¯¸ìŠ¤ë¥¼ ì§€ì›í•˜ëŠ” ê²½ìš°, í”„ë¡œë¯¸ìŠ¤ë¥¼ ì´ìš©í•œ ë¹„ë™ê¸° í˜¸ì¶œì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ì˜¤ëŠ˜ë‚ ì—ëŠ” ëŒ€ë¶€ë¶„ ì§€ì›í•˜êµ¬ìš”). ì´í•˜ì—ì„œëŠ” ë¹„ë™ê¸° í˜¸ì¶œ ìˆ˜í–‰ ê´€ë ¨ ì˜ˆì œì…ë‹ˆë‹¤.

```js
doAscyCall().then(response => ë­ ì–´ë–¤ ë¡œì§);
```

ì¦‰, ì•„ê¹Œ ìœ„ì—ìœ„ì— js í•¨ìˆ˜ ì •ì˜ë¥¼ í–ˆë˜ ë¶€ë¶„ë“¤ ì¤‘ì—, doAsycCall()ì˜ ë‚´ë¶€ì—ì„œ ifì ˆ ë¶€ë¶„ì´ ë‹¤ í•„ìš” ì—†ì–´ì§€ëŠ” ì‘ì„± ë°©ì‹ì´ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ìƒì˜ í˜¸ì¶œ ë¶€ë¶„ì„ í•´ì„í•˜ê¸° ìœ„í•´ì„œëŠ” methodì˜ ê²°ê³¼ê°€ returnë˜ê³ , ì´ê²ƒì´ ë‹¤ìŒ .then() ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ê°ì²´ê°€ ëœë‹¤ëŠ” ì ì„ ì´í•´í•˜ê³ , builder íŒ¨í„´ì—ì„œ ì²˜ìŒ ë°°ì› ë˜ chaining method ê°œë…ì´ ìµìˆ™í•˜ë‹¤ë©´ ì¶©ë¶„íˆ í•´ì„í•˜ì‹¤ ìˆ˜ ìˆì„ê²ë‹ˆë‹¤.

ì‘ë‹µì´ ë°˜í™˜ëì„ ë•Œ, then() ë©”ì„œë“œ ë‚´ë¶€ì— callback í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì–´ ì‘ë‹µì„ argumentë¡œ ë°›ê²Œ ë©ë‹ˆë‹¤(ê·¸ë˜ì„œ ì˜ˆì‹œì— responseë¼ëŠ” ë§¤ê°œë³€ìˆ˜ ëª…ì„ ë‹¬ì•„ë†¨ìŠµë‹ˆë‹¤).

ê·¸ë ‡ë‹¤ë©´ ì—¬ê¸°ì„œ ì˜ë¬¸ì„ ê°€ì ¸ì•¼ í•˜ëŠ” ì ì€ then() ë©”ì„œë“œì˜ return ìë£Œí˜•ì´ê² ë„¤ìš”.

then() ë©”ì„œë“œì˜ return ìë£Œí˜• : Promise.
ê·¸ë¦¬ê³ , ì´ PromiseëŠ” ì„¸ ê°€ì§€ ìƒíƒœ ì¤‘ í•˜ë‚˜ì— ì†í•©ë‹ˆë‹¤.
1. ëŒ€ê¸°(Pending) : ì´ˆê¸° ìƒíƒœ
2. ì´í–‰(Resolved) : ì‘ì—… ì„±ê³µ
3. ê±°ë¶€(Rejected) : ì‘ì—… ì‹¤íŒ¨

ì´í•˜ì˜ ì˜ˆì‹œëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë‹¨ìˆœí™”ì‹œí‚¨ í˜•íƒœë¡œ, íŠ¹íˆ setTimeoutì„ í™œìš©í•˜ì—¬ ë¹„ë™ê¸° ì—°ì‚°ì„ ì‹œë®¬ë ˆì´ì…˜í–ˆìŠµë‹ˆë‹¤.
```js
const myPromise = new Promise((resolve, reject) => {
  setTimeout(() => {
    resolve('Hello');
  }, 500);
});
```
1. JSì—ì„œë„ ìƒì„±ìë¥¼ í†µí•œ ê°ì²´ ìƒì„±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì¦‰, 98 ë²ˆ ë¼ì¸ì—ì„œëŠ” ì €í¬ê°€ myPromiseë¼ëŠ” ê°ì²´ë¥¼ ìƒì„±í–ˆë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. í•´ë‹¹ myPromise ê°ì²´ëŠ” resolve ë§¤ê°œë³€ìˆ˜ì™€ reject ë§¤ê°œë³€ìˆ˜ë¥¼ ê°€ì§‘ë‹ˆë‹¤.
3. í”„ë¡œë¯¸ìŠ¤ ê°ì²´ê°€ ìƒì„±ë  ë•Œì™€, íƒ€ì´ë¨¸ê°€ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ í”„ë¡œë¯¸ìŠ¤ëŠ” _ëŒ€ê¸°_ ìƒíƒœì— ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  500 ë°€ë¦¬ì´ˆê°€ ì§€ë‚˜ë©´ 'Hello'ë¼ëŠ” ê°’ìœ¼ë¡œ resolve í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ê³ , í”„ë¡œë¯¸ìŠ¤ëŠ” _ì´í–‰_ ìƒíƒœë¡œ ê°‘ë‹ˆë‹¤. ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ _ê±°ë¶€_ ìƒíƒœë¡œ ë„˜ì–´ê°€ê² ë„¤ìš”. í˜„ì¬ëŠ” _ê±°ë¶€_ ì—ì„œ ì²˜ë¦¬í•˜ëŠ” ë¡œì§ì„ ì‘ì„±í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  ì´ìƒì—ì„œ ë°°ì› ë˜ .then() ë©”ì„œë“œë¥¼ í†µí•´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì„œë¡œ ì—°ê²°í•˜ì—¬ ë‹¤ìˆ˜ì˜ ë¹„ë™ê¸° ì‘ì—…ì„ _ìˆœì°¨ì ìœ¼ë¡œ_ ì§„í–‰ì‹œí‚¤ëŠ” ê²ƒì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
```js
doAsyncCall()
.then(response => ì „ì²´ ì‘ë‹µ ê²°ê³¼ê°€ ë‚˜ì˜¨ ê²ƒì„ ê°€ì§€ê³  ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ ìˆ˜í–‰)
.then(data => responseë¥¼ ê°€ê³µí•œ ê²°ê³¼ê°’ì„ ë§¤ê°œë³€ìˆ˜ dataë¡œ ì´ë¦„ ë¶™ì´ê³  ì¶”ê°€ì ì¸ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ ìˆ˜í–‰)
```
ê·¸ë¦¬ê³  rejectedëœ ìƒíƒœì—ì„œì˜ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
```js
doAsyncCall()
.then(response => ì „ì²´ ì‘ë‹µ ê²°ê³¼ê°€ ë‚˜ì˜¨ ê²ƒì„ ê°€ì§€ê³  ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ ìˆ˜í–‰)
.then(data => responseë¥¼ ê°€ê³µí•œ ê²°ê³¼ê°’ì„ ë§¤ê°œë³€ìˆ˜ dataë¡œ ì´ë¦„ ë¶™ì´ê³  ì¶”ê°€ì ì¸ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ ìˆ˜í–‰)
.catch(error => console.log(error));
```
ê·¸ëŸ¬ë©´ ì €í¬ê°€ Javaì—ì„œ ë°°ì› ë˜ ì˜ˆì™¸ì²˜ë¦¬ ë°©ë²•ì—ì„œì²˜ëŸ¼ doAscyCall()ê³¼ ë‘ ê°œì˜ .then() ë©”ì„œë“œë“¤ ì¤‘ì—ì„œ ì–´ë””ì—ì„œë¼ë„ ì˜¤ë¥˜/ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ catch ë¶€ë¶„ìœ¼ë¡œ ë„˜ì–´ê°€ê²Œ ë©ë‹ˆë‹¤.

ê°œë°œìëŠ” ì½˜ì†”ì— ì°íŒ errorë¥¼ ë³´ê³  ì´ë¥¼ ìˆ˜ì •í•˜ê²Œ ë ê²ë‹ˆë‹¤.

## async / await
ë¹„ë™ê¸° í˜¸ì¶œì„ ì²˜ë¦¬í•˜ëŠ” ì¢€ ë” ìµœì‹  ë°©ì‹ì€ ECMAScript2017ì— ë„ì…ëœ async/awaitì„ ì´ìš©í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ì´ëŠ” Promiseì— ëŒ€í•œ ê°œë…ì„ ì•Œê³  ìˆë‹¤ëŠ” ì „ì œ í•˜ì— ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì •ì‹ ê±´ê°•ì— ì¢‹ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ì“°ë ¤ë©´ await í‘œí˜„ì‹ì„ í¬í•¨í•  ìˆ˜ ìˆëŠ” async() í•¨ìˆ˜ë¥¼ ì •ì˜í•´ì•¼í•˜ê±°ë“ ìš”...

ì´í•˜ëŠ” async / awaitì˜ ë¹„ë™ê¸° í˜¸ì¶œ ì˜ˆì‹œì…ë‹ˆë‹¤.
```jsx
const doAsyncCall = async () => {
  const response = await fetch('http://someapi.com');
  const data = await response.json();
  // ê·¸ë¦¬ê³  dataë¥¼ ê°€ì§€ê³  ë¡œì§ ìˆ˜í–‰í•˜ëŠ” ë¶€ë¶„ì„ ì •ì˜
}
```
ì—¬ê¸°ì„œ fetch() í•¨ìˆ˜ê°€ ë‚˜ì˜¤ëŠ”ë°, ì–˜ì˜ return ê°’ë„ Promiseì…ë‹ˆë‹¤. ë‹¤ë§Œ, async / awaitì„ ë„ì…í–ˆì„ ê²½ìš° .then()ì„ ì“°ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ await í‚¤ì›Œë“œë¥¼ ì¨ì•¼ í•©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ ìœ„í•´ì„œ ë§ˆì°¬ê°€ì§€ë¡œ async / awaitì— try-catchë¬¸ì„ ì“¸ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´í•˜ëŠ” ê·¸ ì˜ˆì‹œì…ë‹ˆë‹¤.
```js
const doAsyncCall = async () => {
  try {
    const response = await fetch('http://someapi.com');
    const data = await response.json();
    // data ë¥¼ ê°€ì§€ê³  ì¶”ê°€ì ì¸ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ ì •ì˜
  }
  catch {
    console.log(error);
  }
}
```
ì´ìƒê¹Œì§€ê°€ ì „ë°˜ì ì¸ Promiseì˜ ì •ì˜ì™€ ì‚¬ìš© ìµœê·¼ ì‚¬ë¡€ì…ë‹ˆë‹¤.
ì´ë¥¼ ì´ìš©í•˜ë©´ React ì•±ì—ì„œ request ì‘ì—…ì—ì„œ ì‚¬ìš©í•˜ëŠ” fetchAPIì— ëŒ€í•´ì„œ í•™ìŠµí•  ì¤€ë¹„ê°€ ëœê²ë‹ˆë‹¤.